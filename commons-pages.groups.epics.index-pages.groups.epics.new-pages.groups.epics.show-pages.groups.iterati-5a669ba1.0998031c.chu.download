(this.webpackJsonp=this.webpackJsonp||[]).push([[9,690],{"5v28":function(e,t,i){"use strict";i.r(t),i.d(t,"fetchPolicies",(function(){return x}));i("S26F"),i("pBsb");var n=i("gr1B"),r=i("pvem"),s=i("KeHV"),o=i("5lEE"),a=i("M/w7"),c=i("VoMd"),l=i("e0vG"),u=i("scFH"),d=i("qDEO");const h=function(){return(new Date).getTime()},p=function(e){return(h()-e)/1e3};class f{constructor(e){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=e,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=h(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),d.logger.log("ConnectionMonitor started. stale threshold = ".concat(this.constructor.staleThreshold," s")))}stop(){this.isRunning()&&(this.stoppedAt=h(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),d.logger.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=h()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,d.logger.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=h(),d.logger.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){var e=this;this.pollTimeout=setTimeout((function(){e.reconnectIfStale(),e.poll()}),this.getPollInterval())}getPollInterval(){const{staleThreshold:e,reconnectionBackoffRate:t}=this.constructor;return 1e3*e*(1+t)**Math.min(this.reconnectAttempts,10)*(1+(0===this.reconnectAttempts?1:t)*Math.random())}reconnectIfStale(){this.connectionIsStale()&&(d.logger.log("ConnectionMonitor detected stale connection. reconnectAttempts = ".concat(this.reconnectAttempts,", time stale = ").concat(p(this.refreshedAt)," s, stale threshold = ").concat(this.constructor.staleThreshold," s")),this.reconnectAttempts+=1,this.disconnectedRecently()?d.logger.log("ConnectionMonitor skipping reopening recent disconnect. time disconnected = ".concat(p(this.disconnectedAt)," s")):(d.logger.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return p(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&p(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){var e=this;"visible"===document.visibilityState&&setTimeout((function(){!e.connectionIsStale()&&e.connection.isOpen()||(d.logger.log("ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ".concat(document.visibilityState)),e.connection.reopen())}),200)}}f.staleThreshold=6,f.reconnectionBackoffRate=.15;var m=f;const v=Object(d.createConsumer)();v.connection&&(v.connection.monitor=new m(v.connection));var g=v,b=i("WelT");class k extends s.ApolloLink{request(e){return new l.a((function(t){const i=g.subscriptions.create({channel:"GraphqlChannel",query:e.query?Object(u.a)(e.query):null,variables:e.variables,operationName:e.operationName,nonce:Object(b.a)()[0]},{received(e){e.errors?t.error(e.errors):e.result&&t.next(e.result),e.more||t.complete()}});return{unsubscribe(){i.unsubscribe()}}}))}}i("QzWB"),i("TXLM"),i("jaBk");const w=new s.ApolloLink((function(e,t){return t(e).flatMap((function(n){const{errors:r=[]}=n,s=r.find((function(e){var t;return null==e?void 0:null===(t=e.extensions)||void 0===t?void 0:t.needs_captcha_response}));if(s){const n=s.extensions.captcha_site_key,r=s.extensions.spam_log_id;return new l.a((function(s){Promise.all([i.e(58),i.e(664)]).then(i.bind(null,"aG+H")).then((function(e){let{waitForCaptchaToBeSolved:t}=e;return t(n)})).then((function(i){e.setContext({headers:{"X-GitLab-Captcha-Response":i,"X-GitLab-Spam-Log-Id":r}}),t(e).subscribe(s)})).catch((function(e){s.error(e),s.complete()}))}))}return l.a.of(n)}))}));i("Tznw"),i("6yen"),i("OeRx"),i("l/dT"),i("RqS2"),i("Zy7a"),i("cjZU"),i("OAhk"),i("X42P"),i("mHhP"),i("fn0I"),i("UB/6"),i("imhG"),i("orcL");var y=i("osXd"),S=i.n(y),P=i("VNnR"),j=i.n(P),O=i("VvTQ");const D=function(e){return S()(e,(function(e){return void 0!==e}))},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j()(D(e),D(t))};class A extends s.ApolloLink{constructor(){var e;super(),this.startupCalls=new Map,this.parseStartupCalls((null===(e=window.gl)||void 0===e?void 0:e.startup_graphql_calls)||[])}parseStartupCalls(e){var t=this;e.forEach((function(e){var i,n,r,s;const{query:o,variables:a,fetchCall:c}=e,l=null===(i=Object(O.a)(o))||void 0===i?void 0:null===(n=i.definitions)||void 0===n?void 0:null===(r=n.find((function(e){return"OperationDefinition"===e.kind})))||void 0===r?void 0:null===(s=r.name)||void 0===s?void 0:s.value;l&&t.startupCalls.set(l,{variables:a,fetchCall:c})}))}disable(){this.request=A.noopRequest,this.startupCalls=null}request(e,t){if(this.startupCalls&&0===this.startupCalls.size)return this.disable(),t(e);const{operationName:i}=e;if(!this.startupCalls.has(i))return t(e);const{variables:n,fetchCall:r}=this.startupCalls.get(i);return this.startupCalls.delete(i),N(n,e.variables)?new l.a((function(i){r.then((function(t){if(!t.ok)throw new Error("fetchCall failed");return e.setContext({response:t}),t.json()})).then((function(e){if(e&&(e.errors||!e.data))throw new Error("Received GraphQL error");i.next(e),i.complete()})).catch((function(){t(e).subscribe({next:function(e){i.next(e)},error:function(e){i.error(e)},complete:i.complete.bind(i)})}))})):t(e)}}var R,E,T;T=function(e,t){return t(e)},(E="noopRequest")in(R=A)?Object.defineProperty(R,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[E]=T;var q=i("Qhxq"),C=i("hamy");function I(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function F(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(Object(i),!0).forEach((function(t){_(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const x={CACHE_FIRST:"cache-first",CACHE_AND_NETWORK:"cache-and-network",NETWORK_ONLY:"network-only",NO_CACHE:"no-cache",CACHE_ONLY:"cache-only"};t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{assumeImmutableResults:i,baseUrl:l,batchMax:u=10,cacheConfig:d,fetchPolicy:h=x.CACHE_FIRST,typeDefs:p,path:f="/api/graphql",useGet:m=!1}=t;let v="".concat(gon.relative_url_root||"").concat(f);l&&(v="".concat(l).concat(v).replace(/\/{3,}/g,"/"));const g={uri:v,headers:{[q.a.headerKey]:q.a.token},credentials:"same-origin",batchMax:u},b=new s.ApolloLink((function(e,t){return window.pendingApolloRequests=window.pendingApolloRequests||0,window.pendingApolloRequests+=1,t(e).map((function(e){return window.pendingApolloRequests-=1,e}))})),y=s.ApolloLink.split((function(e){return e.getContext().hasUpload||e.getContext().isSingleRequest}),Object(c.createUploadLink)(g),m?Object(a.a)(g):new o.a(g)),S=new s.ApolloLink((function(e,t){return t(e).map((function(t){const i=e.getContext().response;return C.a.interceptor&&C.a.interceptor({config:{url:i.url},headers:{"x-request-id":i.headers.get("x-request-id"),"x-gitlab-from-cache":i.headers.get("x-gitlab-from-cache")}}),t}))})),P=function(e){let{query:{definitions:t}}=e;return t.some((function(e){let{kind:t,operation:i}=e;return"OperationDefinition"===t&&"subscription"===i}))},j=s.ApolloLink.split(P,new k,s.ApolloLink.from([b,S,new A,w,y]));return new r.a({typeDefs:p,link:j,cache:new n.a(F(F({},d),{},{freezeResults:i})),resolvers:e,assumeImmutableResults:i,defaultOptions:{query:{fetchPolicy:h}}})}},FxFN:function(e,t,i){"use strict";i.d(t,"f",(function(){return c})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return u})),i.d(t,"d",(function(){return d})),i.d(t,"e",(function(){return h})),i.d(t,"c",(function(){return p}));i("S26F");var n=i("P/Kr"),r=i.n(n);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return parseInt("".concat(e).replace(/gid:\/\/gitlab\/.*\//g,""),10)||null},l={Append:"APPEND",Remove:"REMOVE",Replace:"REPLACE"},u="Group",d=function(e,t){if("string"!=typeof e)throw new TypeError("type must be a string; got ".concat(typeof e));if(!["number","string"].includes(typeof t))throw new TypeError("id must be a number or string; got ".concat(typeof t));return"gid://gitlab/".concat(e,"/").concat(t)},h=function(e,t){return t.map((function(t){return d(e,t)}))},p=function(e){if(!r()(e))throw new TypeError("nodes must be an array; got ".concat(typeof e));return e.map((function(e){return e.id?o(o({},e),{},{id:c(e.id)}):e}))}},LxrP:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"mergeRequestSidebarDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:171}};i.loc.source={body:"query mergeRequestSidebarDetails($fullPath: ID!, $iid: String!) {\n  project(fullPath: $fullPath) {\n    mergeRequest(iid: $iid) {\n      iid # currently unused.\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.mergeRequestSidebarDetails=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var s=n[t]||new Set,o=new Set,a=new Set;for(s.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){a.add(e)})))}))}return o.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(i,"mergeRequestSidebarDetails")},"Ru/N":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"mergeRequestRequestRereview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestReviewerRereview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:203}};i.loc.source={body:"mutation mergeRequestRequestRereview($projectPath: ID!, $iid: String!, $userId: ID!) {\n  mergeRequestReviewerRereview(input: { projectPath: $projectPath, iid: $iid, userId: $userId }) {\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.mergeRequestRequestRereview=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var s=n[t]||new Set,o=new Set,a=new Set;for(s.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){a.add(e)})))}))}return o.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(i,"mergeRequestRequestRereview")},UKmP:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("jz1Q");class r extends n.a{initSingleton(e){super.initSingleton(e),this.isFetching.status=!0,this.isFetching.weight=!0,this.isFetching.epic=!0,this.isLoading.weight=!1,this.status="",this.weight=null,this.weightOptions=e.weightOptions,this.weightNoneValue=e.weightNoneValue,this.epic={}}setStatusData(e){var t,i;this.isFetching.status=!1,this.status=null==e?void 0:null===(t=e.project)||void 0===t?void 0:null===(i=t.issue)||void 0===i?void 0:i.healthStatus}setStatus(e){this.status=e}setWeightData(e){let{weight:t}=e;this.isFetching.weight=!1,this.weight="number"==typeof t?Number(t):null}setWeight(e){this.weight=e}setEpicData(e){this.isFetching.epic=!1,this.epic=e.epic||{}}}},WelT:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));i("C0ry"),i("orcL");var n=i("lx39"),r=i.n(n),s=i("iGym"),o=i("xjzK"),a=i.n(o),c=i("iPR/");function l(){let e;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=i.length?function(e){return e.reduce((function(t,i,n){let s=0;return Number.isInteger(i)?s=i:r()(i)&&(s=a()(i)),t+(e.length-n)*s}),0)}(i):Math.floor(1e15*Math.random()),new s.a(e)}function u(e){const t=[];for(let i=0;i<=3;i+=1){const i=new ArrayBuffer(4),n=new DataView(i);n.setUint32(0,e.randomNumber()),t.push(n.getUint8(0),n.getUint8(1),n.getUint8(2),n.getUint8(3))}return t}function d(){let{seeds:e=[],count:t=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=l(...e);return Array(t).fill(0).map((function(){return Object(c.a)({random:u(i)})}))}},fknQ:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"healthStatus"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:126}};i.loc.source={body:"query($fullPath: ID!, $iid: String!) {\n  project(fullPath: $fullPath) {\n    issue(iid: $iid) {\n      healthStatus\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i},hamy:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));i("orcL");var n,r,s,o=i("NmEs"),a=i("2ibD");class c{static fetchRequestDetails(e,t){return a.a.get(e,{params:{request_id:t}})}static registerInterceptor(e,t){return c.interceptor=function(i){const[n,r,s]=c.callbackParams(i,e);return n&&t(r,s),i},a.a.interceptors.response.use(c.interceptor)}static removeInterceptor(){a.a.interceptors.response.eject(c.interceptor),c.interceptor=null}static callbackParams(e,t){var i;const n=e.headers&&e.headers["x-request-id"],r=null===(i=e.config)||void 0===i?void 0:i.url,s=e.headers&&Object(o.K)(e.headers["x-gitlab-from-cache"]);return[r!==t&&Boolean(n)&&!s,n,r]}}s=null,(r="interceptor")in(n=c)?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s},jz1Q:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e){return n.singleton||this.initSingleton(e),n.singleton}initSingleton(e){const{currentUser:t,rootPath:i,editable:r,timeTrackingLimitToHours:s}=e;this.currentUser=t,this.rootPath=i,this.editable=r,this.timeEstimate=0,this.totalTimeSpent=0,this.humanTimeEstimate="",this.humanTimeSpent="",this.timeTrackingLimitToHours=s,this.assignees=[],this.reviewers=[],this.isFetching={assignees:!0,reviewers:!0,participants:!0,subscriptions:!0},this.isLoading={},this.autocompleteProjects=[],this.moveToProjectId=0,this.isLockDialogOpen=!1,this.participants=[],this.projectEmailsDisabled=!1,this.subscribeDisabledDescription="",this.subscribed=null,this.changing=!1,n.singleton=this}setAssigneeData(e){let{assignees:t}=e;this.isFetching.assignees=!1,t&&(this.assignees=t)}setReviewerData(e){let{reviewers:t}=e;this.isFetching.reviewers=!1,t&&(this.reviewers=t)}resetChanging(){this.changing=!1}setTimeTrackingData(e){this.timeEstimate=e.time_estimate,this.totalTimeSpent=e.total_time_spent,this.humanTimeEstimate=e.human_time_estimate,this.humanTotalTimeSpent=e.human_total_time_spent}setParticipantsData(e){this.isFetching.participants=!1,this.participants=e.participants||[]}setSubscriptionsData(e){this.projectEmailsDisabled=e.project_emails_disabled||!1,this.subscribeDisabledDescription=e.subscribe_disabled_description,this.isFetching.subscriptions=!1,this.subscribed=e.subscribed||!1}setFetchingState(e,t){this.isFetching[e]=t}setLoadingState(e,t){this.isLoading[e]=t}addAssignee(e){this.findAssignee(e)||(this.changing=!0,this.assignees.push(e))}addReviewer(e){this.findReviewer(e)||this.reviewers.push(e)}updateReviewer(e){const t=this.findReviewer({id:e});t&&(t.reviewed=!1)}findAssignee(e){return this.assignees.find((function(t){let{id:i}=t;return i===e.id}))}findReviewer(e){return this.reviewers.find((function(t){let{id:i}=t;return i===e.id}))}removeAssignee(e){e&&(this.changing=!0,this.assignees=this.assignees.filter((function(t){let{id:i}=t;return i!==e.id})))}removeReviewer(e){e&&(this.reviewers=this.reviewers.filter((function(t){let{id:i}=t;return i!==e.id})))}removeAllAssignees(){this.changing=!0,this.assignees=[]}removeAllReviewers(){this.reviewers=[]}setAssigneesFromRealtime(e){this.assignees=e}setAutocompleteProjects(e){this.autocompleteProjects=e}setSubscribedState(e){this.subscribed=e}setMoveToProjectId(e){this.moveToProjectId=e}}},udiD:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("orcL");var n=i("yWhq"),r=i("jB52");r.default.use(n.a);const s=new r.default;function o(){return s.$toast.show(...arguments)}},uyVa:function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));i("orcL");var n=i("UKmP"),r=i("/lV4"),s=i("udiD"),o=i("XRO8"),a=i("3twG"),c=(i("jaBk"),i("GzNv"),i("fknQ")),l=i.n(c),u=i("FxFN"),d=i("5v28"),h=i("2ibD"),p=i("Ru/N"),f=i.n(p),m=i("LxrP");function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const k={merge_request:i.n(m).a,issue:l.a},w=Object(d.default)({},{fetchPolicy:d.fetchPolicies.NO_CACHE});class y{constructor(e){return y.singleton||(this.endpoint=e.endpoint,this.toggleSubscriptionEndpoint=e.toggleSubscriptionEndpoint,this.moveIssueEndpoint=e.moveIssueEndpoint,this.projectsAutocompleteEndpoint=e.projectsAutocompleteEndpoint,this.fullPath=e.fullPath,this.iid=e.iid,this.issuableType=e.issuableType,y.singleton=this),y.singleton}get(){return Promise.all([h.a.get(this.endpoint),w.query({query:this.sidebarDetailsQuery(),variables:{fullPath:this.fullPath,iid:this.iid.toString()}})])}sidebarDetailsQuery(){return k[this.issuableType]}update(e,t){return h.a.put(this.endpoint,{[e]:t})}updateWithGraphQl(e,t){return w.mutate({mutation:e,variables:g(g({},t),{},{projectPath:this.fullPath,iid:this.iid.toString()})})}getProjectsAutocomplete(e){return h.a.get(this.projectsAutocompleteEndpoint,{params:{search:e}})}toggleSubscription(){return h.a.post(this.toggleSubscriptionEndpoint)}moveIssue(e){return h.a.post(this.moveIssueEndpoint,{move_to_project_id:e})}requestReview(e){return w.mutate({mutation:f.a,variables:{userId:Object(u.d)("User","".concat(e)),projectPath:this.fullPath,iid:this.iid.toString()}})}}class S{constructor(e){return S.singleton||this.initSingleton(e),S.singleton}initSingleton(e){this.store=new n.a(e),this.service=new y({endpoint:e.endpoint,toggleSubscriptionEndpoint:e.toggleSubscriptionEndpoint,moveIssueEndpoint:e.moveIssueEndpoint,projectsAutocompleteEndpoint:e.projectsAutocompleteEndpoint,fullPath:e.fullPath,iid:e.iid,issuableType:e.issuableType}),S.singleton=this}assignYourself(){this.store.addAssignee(this.store.currentUser)}saveAssignees(e){const t=this.store.assignees.map((function(e){return e.id})),i={assignee_ids:0===t.length?[0]:t};return this.service.update(e,i)}saveReviewers(e){const t=this.store.reviewers.map((function(e){return e.id})),i={reviewer_ids:0===t.length?[0]:t};return this.service.update(e,i)}requestReview(e){var t=this;let{userId:i,callback:n}=e;return this.service.requestReview(i).then((function(){t.store.updateReviewer(i),Object(s.a)(Object(r.a)("Requested review")),n(i,!0)})).catch((function(){return n(i,!1)}))}setMoveToProjectId(e){this.store.setMoveToProjectId(e)}fetch(){var e=this;return this.service.get().then((function(t){let[i,n]=t;e.processFetchedData(i.data,n.data)})).catch((function(){return new o.c(Object(r.a)("Error occurred when fetching sidebar data"))}))}processFetchedData(e){this.store.setAssigneeData(e),this.store.setReviewerData(e),this.store.setTimeTrackingData(e),this.store.setParticipantsData(e),this.store.setSubscriptionsData(e)}toggleSubscription(){var e=this;return this.store.setFetchingState("subscriptions",!0),this.service.toggleSubscription().then((function(){e.store.setSubscribedState(!e.store.subscribed),e.store.setFetchingState("subscriptions",!1)})).catch((function(t){throw e.store.setFetchingState("subscriptions",!1),t}))}fetchAutocompleteProjects(e){var t=this;return this.service.getProjectsAutocomplete(e).then((function(e){let{data:i}=e;return t.store.setAutocompleteProjects(i),t.store.autocompleteProjects}))}moveIssue(){return this.service.moveIssue(this.store.moveToProjectId).then((function(e){let{data:t}=e;window.location.pathname!==t.web_url&&Object(a.F)(t.web_url)}))}}}}]);
//# sourceMappingURL=commons-pages.groups.epics.index-pages.groups.epics.new-pages.groups.epics.show-pages.groups.iterati-5a669ba1.0998031c.chunk.js.map